(this["webpackJsonpreddit-lite"]=this["webpackJsonpreddit-lite"]||[]).push([[0],{111:function(e,t){},120:function(e,t){},128:function(e,t){},134:function(e,t){},136:function(e,t){},144:function(e,t){},186:function(e,t){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),A=a.n(n),r=a(33),c=a.n(r),o=(a(97),a(1)),s=a.n(o),l=a(3),i=a(2),u=a(4),m=a(28),d=a.n(m),w="Reddit-Lite-v"+Object({NODE_ENV:"production",PUBLIC_URL:"/reddit-lite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_PATH:"/reddit-lite/",REACT_APP_REDDIT_APP_ACCESS_TOKEN:"37586904-fFvfQT3bfVV8Yk6PHGXJ87wAslY",REACT_APP_REDDIT_REDIRECT_URI:"https://thavixt.github.io/reddit-lite/",REACT_APP_REDDIT_APP_ID:"-NFgiBC0aA15KQ",REACT_APP_REDDIT_APP_REFRESH_TOKEN:"37586904-MHrkWdc6ifdg1Mtjm-zPKmKhwts"}).REACT_APP_VERSION+"_production",g="-NFgiBC0aA15KQ",f="https://thavixt.github.io/reddit-lite/",B=null,D=null,p=new Map;function E(){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){B&&e(B.authenticated||B.anonymous);var a=G();if(a){var n=new d.a({userAgent:w,clientId:g,clientSecret:"",refreshToken:a.refreshToken});B={authenticated:n,anonymous:null},console.info("authenticated user"),e(n)}else{var A=new d.a({userAgent:w,clientId:g,clientSecret:"",refreshToken:"37586904-MHrkWdc6ifdg1Mtjm-zPKmKhwts"});B={authenticated:null,anonymous:A},console.info("anonymous user"),e(A)}t("No API instance could be created.")})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=2;break}return e.abrupt("return",B.authenticated||B.anonymous);case 2:return e.next=4,E();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){var e=window.localStorage.getItem("redditAccessToken"),t=window.localStorage.getItem("redditRefreshToken");return e&&t?{accessToken:e,refreshToken:t}:null}function Y(e,t){window.localStorage.setItem("redditAccessToken",e),window.localStorage.setItem("redditRefreshToken",t)}function b(){return(b=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=new URL(window.location.href).searchParams.get("code");t?d.a.fromAuthCode({code:t,userAgent:w,clientId:g,redirectUri:f}).then((function(e){Y(e.accessToken,e.refreshToken),B||(B={authenticated:e,anonymous:null}),B.authenticated=e;var t=new URL(window.location.href).searchParams;t.delete("code"),t.delete("state"),window.location.search=t.toString()})).catch((function(e){return console.error(e)})):e()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:e.sent.getComment(t).upvote();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:e.sent.getComment(t).downvote();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){return!(!B||!B.authenticated)},S={auth:function(){return b.apply(this,arguments)},redirectAuth:function(){var e=d.a.getAuthUrl({clientId:g,scope:["account","edit","history","identity","mysubreddits","privatemessages","read","report","save","submit","subscribe","vote"],redirectUri:f,permanent:!0,state:"authenticated"});window.location.href=e},logout:function(){window.localStorage.removeItem("redditAccessToken"),window.localStorage.removeItem("redditRefreshToken"),window.location.href="/reddit-lite/"},createInstance:E,getInstance:h,isAuthenticated:j,getUser:function(){return new Promise((function(e){D?e(D):h().then((function(e){return e.getMe()})).then((function(t){D=t,e(t)}))}))},feed:function(e,t,a,n){var A=a?"t=".concat(a):"",r=n?"after=".concat(n):"",c=t||"hot";return new Promise((function(t,a){fetch("https://www.reddit.com/r/".concat(e,"/").concat(c,".json?").concat(A,"&").concat(r)).then((function(e){return e.text()})).then(JSON.parse).then(t).catch((function(){return a("Could not fetch top for reddit.com/r/".concat(e,"/").concat(c,".json").concat(A))}))}))},post:function(e,t){return p.has(t)?p.get(t):new Promise((function(a,n){fetch("https://www.reddit.com/r/".concat(e,"/comments/").concat(t,".json")).then((function(e){return e.text()})).then(JSON.parse).then((function(e){p.set(t,e),a(e)})).catch((function(){return n("Could not fetch comments for reddit.com/r/".concat(e,"/comments/").concat(t,".json"))}))}))},comments:function(e,t){return new Promise((function(a,n){fetch("https://www.reddit.com/r/".concat(e,"/comments/").concat(t,".json")).then((function(e){return e.text()})).then(JSON.parse).then(a).catch((function(){return n("Could not fetch comments for reddit.com/r/".concat(e,"/comments/").concat(t,".json"))}))}))}};function k(e){return A.a.createElement("div",{className:"Loading ".concat(e.size||"")},A.a.createElement("div",{className:"lds-dual-ring"}))}var y=a(58),C=a(12),_=a.n(C);function T(e){if(!e.awards.length)return null;var t=e.awards.map((function(e,t){return A.a.createElement("span",{key:t,className:"award",title:e.name},A.a.createElement("img",{src:e.icon_url,alt:e.name}),e.count>1?A.a.createElement("span",{className:"count"},e.count):null)}));return A.a.createElement("div",{className:"Awards"},t)}function I(e){var t=e.e,a=e.t;return a?A.a.createElement("span",{className:"Flair ".concat(t," ").concat(e.className)},a):null}var P=a(90),Q=a.n(P);function R(e){e.url;var t=e.thumbnail,a=!t.match(/^http/);return A.a.createElement("div",{className:"thumbnail"},A.a.createElement("img",{className:a?"default":"",src:a?Q.a:t,alt:"thumbnail"}))}function x(e){var t=1e3*e.timestamp,a=function(e){var t=Date.now()-e,a=function(e,a){var n=Math.round(t/a),A=n>1?"s":"";return n+" ".concat(e).concat(A," ago")};if(t<6e4)return"just now";if(t<36e5)return a("minute",6e4);if(t<864e5)return a("hour",36e5);if(t<2592e6)return a("day",864e5);if(t<31104e6)return a("month",2592e6);if(t<378432e6)return a("year",31536e6);return!1}(t);if(a)return A.a.createElement("span",{className:e.className},a);var n=new Date(t).toDateString(),r=new Date(t).toLocaleTimeString();return A.a.createElement("span",{className:e.className},n," ",r)}function U(e){var t,a,r=Object(n.useState)(e.upvoted||!1),c=Object(i.a)(r,2),o=c[0],s=c[1],l=Object(n.useState)(e.downvoted||!1),u=Object(i.a)(l,2),m=u[0],d=u[1],w=!j();return e.score&&(a=e.score>1e3?"".concat(Math.round(e.score/1e3*10)/10,"K"):e.score),A.a.createElement("div",{className:"Votes ".concat(null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:""," ").concat(e.arrows?"arrows":"")},e.arrows&&A.a.createElement("span",{className:"upvote ".concat(o?"upvoted":""," ").concat(w?"disabled":""),onClick:function(t){t.stopPropagation(),e.upvote&&(o||e.upvote(),s(!o))}},"\u25b2"),e.score&&A.a.createElement("span",{className:"score"},a," ",e.children),e.arrows&&A.a.createElement("span",{className:"downvote ".concat(m?"upvoted":""," ").concat(w?"disabled":""),onClick:function(t){t.stopPropagation(),e.downvote&&(m||e.downvote(),d(!m))}},"\u2bc6"))}function L(e){var t=e.post,a=Object(u.b)(),n=Object(u.c)((function(e){return e.post&&e.post.id})),r=t.link_flair_richtext.map((function(e,t){return A.a.createElement(I,Object.assign({key:t},e))}));return A.a.createElement("div",{className:"Post"+(t.id===n?" highlighted":""),onClick:function(){a({type:"SET_POST",payload:t})}},A.a.createElement(U,{className:"score",score:t.score,arrows:!0}),A.a.createElement(R,{url:t.url,thumbnail:t.thumbnail}),A.a.createElement("div",{className:"details"},A.a.createElement("small",{className:"author"},"u/",t.subreddit),"-",A.a.createElement("small",{className:"date"},A.a.createElement(x,{timestamp:t.created_utc})),A.a.createElement("p",{className:"title"},_()(t.title)),r,A.a.createElement(T,{awards:t.all_awardings}),t.num_comments>0&&A.a.createElement("p",{className:"commentCount"},t.num_comments," comment",t.num_comments>1&&"s")))}function H(){var e=A.a.useState(null),t=Object(i.a)(e,2),a=t[0],n=t[1],r=A.a.useState([]),c=Object(i.a)(r,2),o=c[0],m=c[1],d=A.a.useState(0),w=Object(i.a)(d,2),g=w[0],f=w[1],B=A.a.useState(!1),D=Object(i.a)(B,2),p=D[0],E=D[1],M=Object(u.c)((function(e){return e.subReddit})),h=Object(u.c)((function(e){return e.sort})),v=Object(u.c)((function(e){return e.timeFrame})),G=A.a.useRef(null);A.a.useEffect((function(){!function(){var e=Object(l.a)(s.a.mark((function e(){var t,A,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!p&&m([]),t=p?a:null,e.next=4,S.feed(M,h,v,t);case 4:A=e.sent,r=A.data.children.map((function(e){return e.data})),p?(m([].concat(Object(y.a)(o),Object(y.a)(r))),E(!1)):(m(r),G.current&&G.current.scrollTo(0,0)),n(A.data.after);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[M,h,v,g]);var Y=o.map((function(e){return A.a.createElement(L,{post:e,key:e.id})})),b=A.a.createElement("p",{className:"more",onClick:function(){E(!0),f(g+1)}},"Load more");return A.a.createElement("div",{className:"FeedList"},A.a.createElement("div",{className:"list",ref:G},Y.length?Y:A.a.createElement(k,null),p?A.a.createElement(k,{size:"small"}):b))}var K=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(i.a)(c,2),u=o[0],m=o[1];Object(n.useEffect)((function(){Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getInstance();case 2:r(!0),S.isAuthenticated()&&S.getUser().then(m);case 4:case"end":return e.stop()}}),e)})))()}),[]);var d=!!a&&S.isAuthenticated(),w=a&&d,g=w&&u?A.a.createElement("div",{className:"user"},A.a.createElement("span",{className:"userKarma"},u.comment_karma," karma"),A.a.createElement("span",{className:"userName"},u.name),A.a.createElement("img",{className:"userIcon",src:u.icon_img,alt:"User profile"})):null;return a?A.a.createElement("div",{className:"User"},w?A.a.createElement("button",{className:"logout",onClick:S.logout},"Log out"):A.a.createElement("button",{className:"login",onClick:S.redirectAuth},"Log in"),w?g:null):A.a.createElement("div",{className:"User"},A.a.createElement(k,{size:"tiny"}))},F=["all","popular"];function J(e){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0;a<document.links.length;a++)document.links[a].target=t;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){var a=new URLSearchParams(window.location.search);t?a.set(e,t):a.delete(e);var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+a.toString();window.history.pushState(null,"",n)}function W(e){return new URLSearchParams(window.location.search).get(e)}function X(e){var t=Array.from(new Set(e.sort()));localStorage.setItem("savedSubReddits",JSON.stringify(t))}function q(){var e=localStorage.getItem("savedSubReddits");return e?JSON.parse(e):F}var Z={hot:"Hot",new:"New",controversial:"Controversial",top:"Top",rising:"Rising"},$={hour:"Now",day:"Today",week:"This week",month:"This month",year:"This year",all:"All time"};function ee(){var e=Object(n.useRef)(null),t=Object(u.b)(),a=Object(u.c)((function(e){return e.subReddit})),r=Object(u.c)((function(e){return e.sort})),c=Object(u.c)((function(e){return e.timeFrame})),o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],m=s[1],d=Object(n.useState)(!1),w=Object(i.a)(d,2),g=w[0],f=w[1],B=Object(n.useState)(!1),D=Object(i.a)(B,2),p=D[0],E=D[1],M=Object(n.useState)(0),h=Object(i.a)(M,2),v=h[0],G=h[1];Object(n.useEffect)((function(){e.current&&(e.current.value=a)}),[a]);var Y=q(),b=Y.map((function(e){return A.a.createElement("li",{key:e,className:"sub",onClick:function(){t({type:"SET_SUBREDDIT",payload:e}),m(!1)}},A.a.createElement("span",{className:a===e?"selected":""},"r/",e))})),O=Object.keys(Z).map((function(e){return A.a.createElement("li",{key:e,className:"sort",onClick:function(){t({type:"SET_SORT",payload:e}),f(!1)}},A.a.createElement("span",{className:r===e?"selected":""},Z[e]))})),N=Object.keys($).map((function(e){return A.a.createElement("li",{key:e,className:"time",onClick:function(){t({type:"SET_TIMEFRAME",payload:e}),E(!1)}},A.a.createElement("span",{className:c===e?"selected":""},$[e]))})),j=["top","controversial"].includes(r),S=Y.includes(a);return A.a.createElement("div",{className:"FeedSelector",onMouseLeave:function(){m(!1),f(!1),E(!1)}},A.a.createElement("div",{className:"UserContainer",onMouseEnter:function(){m(!1),f(!1),E(!1)}},A.a.createElement(K,null)),A.a.createElement("div",{className:"selectors"},A.a.createElement("div",{className:l?"open":"",onMouseEnter:function(){m(!0),f(!1),E(!1)}},A.a.createElement("p",null,A.a.createElement("button",{onClick:function(){var e;S?(e=a,X(q().filter((function(t){return t!==e})))):function(e){var t=q();t.push(e),X(t)}(a),G(v+1)},title:(S?"Remove from":"Add to")+" favourites"},S?"-":"+"),"r/",A.a.createElement("input",{ref:e,type:"text",name:"subReddit",id:"subRedditInput",defaultValue:a,onBlur:function(e){t({type:"SET_SUBREDDIT",payload:e.currentTarget.value})},onKeyDown:function(e){13===e.keyCode&&t({type:"SET_SUBREDDIT",payload:e.currentTarget.value})}}))),A.a.createElement("div",{className:g?"open":"",onMouseEnter:function(){m(!1),f(!0),E(!1)}},A.a.createElement("p",null,r)),j&&A.a.createElement("div",{className:p?"open":"",onMouseEnter:function(){m(!1),f(!1),E(!0)}},A.a.createElement("p",null,c))),l?A.a.createElement("div",{className:"list subs",onMouseLeave:function(){m(!1)}},A.a.createElement("ul",null,b.length?b:"You have no saved subreddits.")):null,g?A.a.createElement("div",{className:"list sort",onMouseLeave:function(){f(!1)}},A.a.createElement("ul",null,O)):null,p?A.a.createElement("div",{className:"list time",onMouseLeave:function(){E(!1)}},A.a.createElement("ul",null,N)):null)}function te(e){var t=A.a.useState(null),a=Object(i.a)(t,2),n=a[0],r=(a[1],A.a.useState(!1)),c=Object(i.a)(r,2),o=c[0],u=c[1];if(n)return A.a.createElement("div",{className:"Comment"},"TODO load more");function m(){return(m=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),console.log("load more");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n?A.a.createElement("p",null,"more"):o?A.a.createElement(k,{size:"small"}):A.a.createElement("div",{className:"Comment ShowMore link",onClick:function(){return m.apply(this,arguments)}},e.data.count," more replies")}function ae(e){var t=e.data,a=A.a.useState(!0),n=Object(i.a)(a,2),r=n[0],c=n[1];if(t.count)return A.a.createElement(te,{data:t});var o=t.replies&&t.replies.data.children?t.replies.data.children.map((function(e){return A.a.createElement(ae,{key:e.data.id,data:e.data})})):null;return A.a.createElement("div",{className:"Comment ".concat(r?"":"hidden")},A.a.createElement("div",{className:"side"},r&&A.a.createElement(U,{arrows:!0,upvote:function(){return function(e){return O.apply(this,arguments)}(t.id)},downvote:function(){return function(e){return N.apply(this,arguments)}(t.id)}}),A.a.createElement("div",{className:"toggle",onClick:function(){return c(!r)}},r?A.a.createElement("hr",null):"+")),A.a.createElement("div",{className:"content"},A.a.createElement("div",{className:"body ".concat(t.stickied?"stickied":"")},A.a.createElement("div",{className:"header"},A.a.createElement("span",{className:"author".concat(t.is_submitter?" op":"")},t.author),t.score_hidden?"score hidden":A.a.createElement(U,{className:"score",score:t.score}," points")," -\xa0",A.a.createElement(x,{className:"date",timestamp:t.created_utc}),"\xa0",A.a.createElement(T,{className:"awards",awards:t.all_awardings||[]}),t.stickied&&A.a.createElement("span",null,"- ",A.a.createElement("span",{className:"stickied"},"sticked comment"))),r&&A.a.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:_()(t.body_html)}})),r&&o))}function ne(e){var t=e.id,a=e.sub,n=A.a.useState(!1),r=Object(i.a)(n,2),c=r[0],o=r[1],u=A.a.useState(null),m=Object(i.a)(u,2),d=m[0],w=m[1];if(A.a.useEffect((function(){o(!0),function(){var e=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.comments(a,t);case 2:(n=e.sent).error||w(n[1].data),o(!1),J("_blank");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a,t]),c)return A.a.createElement(k,null);if(!d)return null;var g=d.children.map((function(e,t){return A.a.createElement(ae,{key:t,data:e.data})}));return A.a.createElement("div",{className:"Comments"},g)}function Ae(e){var t=e.url,a=A.a.useState(!1),n=Object(i.a)(a,2),r=n[0],c=n[1],o=A.a.useState(!0),u=Object(i.a)(o,2),m=u[0],d=u[1];return A.a.useEffect((function(){d(!0),t&&Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(t).then((function(){c(!0),d(!1)})).catch((function(){d(!1)}));case 1:case"end":return e.stop()}}),e)})))()}),[t]),m?A.a.createElement(k,null):t?A.a.createElement("div",{className:"Link ".concat(e.className)},A.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},r?A.a.createElement("img",{src:t,alt:"Direct link"}):t)):null}function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(l.a)(s.a.mark((function e(t){var a,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:5e3,e.abrupt("return",new Promise((function(e,n){var A,r=a,c=new Image;c.onerror=function(){clearTimeout(A),n()},c.onabort=function(){clearTimeout(A),n()},c.onload=function(){clearTimeout(A),e()},A=setTimeout((function(){c.src="",n()}),r),c.src=t})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=new(a(91).Parser);function se(e){var t=e.embed,a=e.metadata,r=e.selftext,c=e.url,o=e.video,s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){m(!1),setTimeout((function(){return m(!0)}),1)}),[t,r,c,o]),u?A.a.createElement("div",{className:"content"},t&&A.a.createElement("div",{className:"embed"},oe.parse(_()(t))),o&&A.a.createElement("video",{controls:!0,className:"video"},A.a.createElement("source",{src:o,type:"video/webm"})),r&&A.a.createElement("div",{className:"html",dangerouslySetInnerHTML:{__html:_()(r)}}),a&&A.a.createElement(Ae,{className:"metadata",url:_()(a)}),!t&&!o&&c&&A.a.createElement(Ae,{className:"url",url:c})):A.a.createElement(k,null)}function le(e){var t,a,r,c,o,s=e.crossPostLevel,l=void 0===s?0:s,i=Object(u.b)(),m=A.a.useRef(null),d=Object(u.c)((function(e){return e.post}));if(Object(n.useEffect)((function(){m&&m.current&&m.current.scrollTo(0,0)}),[d]),!d)return null;for(var w=0;w<l&&d.crosspost_parent_list.length;){var g;d=null!==(g=d.crosspost_parent_list[0])&&void 0!==g?g:d,w++}var f=null===(t=d.media_embed)||void 0===t?void 0:t.content,B=null===(a=d.media)||void 0===a||null===(r=a.reddit_video)||void 0===r?void 0:r.fallback_url,D=null===(c=d.media_metadata)||void 0===c||null===(o=c[Object.keys(d.media_metadata)[0]])||void 0===o?void 0:o.s.u,p=d.link_flair_richtext.map((function(e,t){return A.a.createElement(I,Object.assign({key:t},e))}));return A.a.createElement("div",{className:"Page ".concat(e.className),ref:m},A.a.createElement("div",{className:"header"},A.a.createElement("div",{className:"block"},A.a.createElement(U,{className:"score",score:d.score}," points"),A.a.createElement("span",{className:"sub"}," -\xa0",A.a.createElement("span",{className:"bold link",onClick:function(){return i({type:"SET_SUBREDDIT",payload:d.subreddit})}},"r/",d.subreddit)),"\xa0",A.a.createElement("span",{className:"author"},d.crosspost_parent_list?"crossposted":"posted"," by u/",d.author),"\xa0",A.a.createElement(x,{className:"date",timestamp:d.created_utc}),"\xa0",l>0?A.a.createElement("span",{className:"link",onClick:function(){return i({type:"SET_POST",payload:d})}},"(go to post)"):null),A.a.createElement("div",{className:"title"},A.a.createElement("h1",null,_()(d.title)),p,A.a.createElement(T,{awards:d.all_awardings}))),l>0?A.a.createElement(le,{className:"crossPost",crossPostLevel:l+1}):A.a.createElement(se,{embed:f,video:B,metadata:D,selftext:d.selftext_html,url:d.url}),A.a.createElement(ie,{post:d,crossPostLevel:l}))}function ie(e){var t=e.post,a=e.crossPostLevel;return A.a.createElement("div",{className:"comments"},A.a.createElement("p",{className:"count"},t.num_comments>0&&A.a.createElement("span",{className:"commentCount"},t.num_comments," comment",t.num_comments>1&&"s"),A.a.createElement("span",null,"\xa0",A.a.createElement("a",{className:"redditLink",href:"https://reddit.com"+t.permalink,target:"_blank",rel:"noopener noreferrer"},"(open on reddit.com)"))),a>0?null:A.a.createElement(ne,{sub:t.subreddit,id:t.id}))}function ue(){return A.a.createElement("div",{className:"grid"},A.a.createElement("div",{className:"FeedContainer"},A.a.createElement(ee,null),A.a.createElement(H,null)),A.a.createElement("div",{className:"PageContainer"},A.a.createElement(le,null)))}var me=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.post})),a=Object(u.c)((function(e){return e.subReddit})),r=Object(n.useState)(!1),c=Object(i.a)(r,2),o=c[0],m=c[1],d=Object(n.useCallback)(Object(l.a)(s.a.mark((function n(){var A,r,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&"object"===typeof t?document.title=t.title:a&&(document.title="r/".concat(a)),!(A=W("post"))||t||!a){n.next=8;break}return n.next=5,S.post(a,A);case 5:r=n.sent,(c=r.length?r[0].data.children[0].data:null)&&e({type:"SET_POST",payload:c});case 8:case"end":return n.stop()}}),n)}))),[e,t,a]);return Object(n.useEffect)((function(){S.auth().then((function(){return new Promise((function(e){setTimeout(e,1e3)}))})).then((function(){return m(!0)})).then(d)}),[d]),Object(n.useEffect)((function(){t&&"object"===typeof t?document.title=t.title:a&&(document.title="r/".concat(a));var n=function(){var t=Object(l.a)(s.a.mark((function t(a,n){var A,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.post(a,n);case 2:A=t.sent,(r=A.length?A[0].data.children[0].data:null)&&e({type:"SET_POST",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),A=W("post");A&&!t&&a&&n(a,A)}),[e,t,a]),A.a.createElement("div",{className:"App"},o?A.a.createElement(A.a.Fragment,null,A.a.createElement(ue,null)):A.a.createElement("div",{className:"full center"},A.a.createElement(k,{size:"huge"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de,we=a(13),ge=a(35),fe={post:null,subReddit:W("sub")||"all",sort:W("sort")||"hot",timeFrame:W("time")||"hour"},Be=Object(ge.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"SET_POST":z("post",t.payload.id),a=Object(we.a)(Object(we.a)({},e),{},{post:t.payload});break;case"SET_SUBREDDIT":z("sub",t.payload),a=Object(we.a)(Object(we.a)({},e),{},{subReddit:t.payload,sort:"hot"});break;case"SET_SORT":z("sort",t.payload),a=Object(we.a)(Object(we.a)({},e),{},{sort:t.payload});break;case"SET_TIMEFRAME":z("time",t.payload),a=Object(we.a)(Object(we.a)({},e),{},{timeFrame:t.payload});break;default:return e}return a}));de=me,c.a.render(A.a.createElement(u.a,{store:Be},A.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t){},68:function(e,t){},90:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAUxBAMAAACbhYYMAAAAElBMVEVMaXEAAAAAAAAAAAAAAAAAAAAlAuGTAAAABXRSTlMAJztVqiZ/eKAAAAhySURBVHja7dNBDcMwEADBnnUEQqEUSiEUQrMUwiQUgsBSKfiRSj5rBsJKG8cLqKpJAAYGDAwYGAwMGBgwMGBgMDBgYMDAYGDAwICBAQODgQEDAwYGDAwGBgwMGBgMDBgYMDBgYDAwYGDAwICBwcCAgQEDg4EBAwMGBgwMBgYMDBgYDAwYGDAwYGAwMGBgwMCAgcHAgIEBA4OBAQMDBgYMDAYGDAwYGDAwGBgwMGBgMDBgYMDAgIHBwICBAQMDBgYDAwYGDAwGBgwMGBgwMBgYMDBgYDAwYGDAwICBwcCAgQEDAwYGAwMGBgwMBgYMDBgYMDAYGDAwYGDAwGBgwMCAgcHAgIEBAwMGBgMDBgYMDBgYDAwYGDAwGBgwMGBgwMBgYMDAgIHBwICBAQMDBgYDAwYGDAwYGAwMGBgwMBgYMDBgYMDAYGDAwICBAQODgQEDAwYGAwMGBgwMGBgWlLcGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwhNg1YEL91GBEbhow48ASDGkSgIEBAwMGBgMDBgYMDBgYDAwYGDAwGBgwMGBgwMBgYMDAgIEBA4OBAQMDBgYDAwYGDAwYGAwMGBgwMGBgMDBgYMDAYGDAwICBAQODgQEDAwYGAwMGBgwMGBgMDBgYMDBgYDAwYGDAwGBgwMCAgQEDg4EBAwMGBgwMBgYMDBgYDAwYGDAwYGAwMGBgwMCAgcHAgIEBA4OBAQMDBgYMDAYGDAwYGAwMGBgwMGBgMDBgYMDAgIHBwICBAQODgQEDAwYGDAwGBgwMGBgwMBgYMDBgYDAwYGDAwICBwcCAgQEDAwYGAwMGBgwMBgYMDBgYMDAYGDAwYGAwMGBgwMCAgcHAgIEBAwMGBgMDBgYMDAYGDAwYGDAwGBgwMGBgwMBgYMDAgIHBwICBAQMDBgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgP+KjwZQVr41gLKaBGBgwMCAgcHAgIEBAwMGBgMDBgYMDAYGDAwYGDAwGBgwMGBgwMBgYMDAgIHBwICBAQMDBgYDAwYGDAwYGAwMGBgwMBgYMDBgYMDAYGDAwICBwcCAgQEDAwYGAwMGBgwMGBgMDBgYMDAYGDAwYGDAwGBgwMCAgQEDg4EBAwMGBgMDBgYMDBgYDAwYGDAwYGAwMGBgwMBgYMDAgIEBA4OBAQMDBgYDAwYGDAwYGAwMGBgwMGBgMDBgYMDAYGDAwICBAQODgQEDAwYGDAwGBgwMGBgMDBgYMDBgYDAwYGDAwICBwcCAgQEDg4EBAwMGBgwMBgYMDBgYDAwYGDAwYGAwMGBgwMCAgcHAgIEBA4OBAQMDBgYMDAYGDAwYGDAwGBgwMGBgMDBgYMDAgIFhQXlpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAT4hDAybUvxqMaBKAgQEDAwYGAwMGBgwMGBgMDBgYMDAYGDAwYGDAwGBgwMCAgQEDg4EBAwMGBgMDBgYMDBgYDAwYGDAwYGAwMGBgwMBgYMDAgIEBA4OBAQMDBgYDAwYGDAwYGAwMGBgwMGBgMDBgYMDAYGDAwICBAQODgQEDAwYGDAwGBgwMGBgMDBgYMDBgYDAwYGDAwICBwcCAgQEDg4EBAwMGBgwMBgYMDBgYDAwYGDAwYGAwMGBgwMCAgcHAgIEBA4OBAQMDBgYMDAYGDAwYGDAwGBgwMGBgMDBgYMDAgIHBwICBAQMDBgYDAwYGDAwGBgwMGBgwMBgYMDBgYDAwYGDAwICBwcCAgQEDAwYGAwMGBgwMBgYMDBgYMDAYGDAwYGDAwGBgwMCAgcHAgIEBAwMGhgXlrQET6hIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPXErgGUlZsGUFaTAAwMGBgwMBgYMDBgYMDAYGDAwICBwcCAgQEDAwYGAwMGBgwMGBgMDBgYMDAYGDAwYGDAwGBgwMCAgQEDg4EBAwMGBgMDBgYMDBgYDAwYGDAwGBgwMGBgwMBgYMDAgIEBA4OBAQMDBgYDAwYGDAwYGAwMGBgwMGBgMDBgYMDAYGDAwICBAQODgQEDAwYGDAwGBgwMGBgMDBgYMDBgYDAwYGDAwGBgwMCAgQEDg4EBAwMGBgwMBgYMDBgYDAwYGDAwYGAwMGBgwMCAgcHAgIEBA4OBAQMDBgYMDAYGDAwYGDAwGBgwMGBgMDBgYMDAgIHBwICBAQODgQEDAwYGDAwGBgwMGBgwMBgYMDBgYDAwYGDAwICBwcCAgQEDAwYGAwMGBgwMBgYMDBgYMDAs6AcpIQ+YzlN7yAAAAABJRU5ErkJggg=="},92:function(e,t,a){e.exports=a(205)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.809fc115.chunk.js.map